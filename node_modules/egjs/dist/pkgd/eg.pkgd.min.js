/**
* Copyright (c) 2015 NAVER corp.
* egjs projects are licensed under the MIT license
* https://naver.github.io/egjs/license.txt
*
* egjs JavaScript library
* http://naver.github.io/egjs
*
* @version 1.5.0
* @SHA-1 a22f4c1 (1.5.0-rc)
*/
/**
* All-in-one packaged file for ease use of 'egjs' with below dependencies.
* NOTE: This is not an official distribution file and is only for user convenience.
*
* node_modules/hammerjs/hammer.js
* src/module.js
* src/agent.js
* src/raf.js
* src/eg.js
* src/class.js
* src/component.js
* src/customEvent/rotate.js
* src/customEvent/scrollEnd.js
* src/hook/transform.js
* src/hook/cssPrefix.js
* src/hook/pauseResume.js
* src/plugin/persist.js
* src/visible.js
* src/movableCoord.js
* src/flicking.js
* src/infiniteGrid.js
*/
!function(a,b,c,d){function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===Ea||f.eventType===Ga)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.7",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer"),function(a,b,c){function d(a){return a>2?a+1+"th":m[a]}function e(a,b){var c;for(c in b)a=a.replace(new RegExp("{{"+c+"}}","gi"),b[c]);return a}function f(a,b){for(var f,g,h,i,j,m,n,o,p=0,q=b.length,r=[],s=[],t=c.require;q>p;p++)g=b[p],h={index:d(p),name:g,componentName:a},i="string"==typeof b[p],j=void 0===b[p],m=i&&(f=k[b[p]]),n=i&&f&&!c[b[p]],o=n&&t&&t.specified&&t.specified(b[p]),i||j?o&&t.defined(b[p])?(g=t(b[p]),s.push(g)):!o||t.defined(b[p])?n&&t&&t.specified&&!t.specified(b[p])?(h.url=f.url,r.push(e(l[1],h))):!n||t?m&&c[b[p]]?(g=c[b[p]],s.push(g)):!i||f?void 0!==b[p]||r.push(e(l[4],h)):r.push(e(l[3],h)):(h.url=f.url,r.push(e(l[2],h))):(h.url=f.url,r.push(e(l[0],h))):s.push(g);return[s,r]}function g(a){return a.charAt(0).toUpperCase()+a.slice(1)}function h(a){var c,d,e,f=g(a);if(!(i[f]&&i[f].prototype&&i[f].prototype._events))return!1;if(j.fn[a])throw new Error("The name '"+f+"' has already been used and registered as plugin. Try with different one.");j.fn[a]=function(c){var d,e;return"string"==typeof c?(d=this.data(b+"-"+a),"instance"===c?d:(e=d[c].apply(d,Array.prototype.slice.call(arguments,1)),e===d?this:e)):((void 0===c||j.isPlainObject(c))&&this.data(b+"-"+a,new i[f](this,c||{},a+":")),this)},e={trigger:"trigger",add:"on",remove:"off"},c=i[f].prototype._events();for(var h in c){d=j.event.special[a+":"+c[h]]={},d.setup=function(){return!0};for(var k in e)d[k]=function(c){return function(d,e){return j(this).data(b+"-"+a)[c](d.type,"trigger"===c?e:d.handler),!1}}(e[k])}}var i;c[b]||(c[b]={}),i=c[b];var j=c[a],k={jQuery:{url:"http://jquery.com/"},Hammer:{url:"http://hammerjs.github.io/"}},l=["[egjs] The {{name}} library must be loaded before {{componentName}}.",'[egjs] For AMD environment (like RequireJS), "{{name}}" must be declared, which is required by {{componentName}}.',"[egjs] The {{index}} argument of {{componentName}} is missing.\r\nDownload {{name}} from [{{url}}].","[egjs] The {{name}} parameter of {{componentName}} is not valid.\r\nPlease check and try again.","[egjs] The {{index}} argument of {{componentName}} is undefined.\r\nPlease check and try again."],m=["1st","2nd","3rd"],n=function(a){(n=c.console&&c.console.warn?function(a){c.console.warn(a)}:function(){})(a)};i.module||(i.module=function(a,b,d){var e=f(a,b);e[1].length?n(e[1].join("\r\n")):(d.apply(c,e[0]),h(a))})}("jQuery","eg",window),eg.module("agent",[eg],function(a){function b(a){return j(a,o.defaultString.browser)}function c(a){var b,c;return a?(c=h(a).versionSearch||a,b=d(c,n)):void 0}function d(a,b){var c,d,e=o.defaultString.browser.version,f=new RegExp("("+a+")","i").exec(b);return f?(d=f.index,a=f[0],d>-1&&(c=d+a.length+1,e=b.substring(c).split(" ")[0].replace(/_/g,".").replace(/\;|\)/g,"")),e):e}function e(a){return j(a,o.defaultString.os)}function f(a){var b,c,d,e,f=n,h=g(a)||{},i=o.defaultString.os.version;return a?h.versionAlias?h.versionAlias:(c=h.versionSearch||a,d=new RegExp("("+c+")\\s([\\d_\\.]+|\\d_0)","i"),e=d.exec(f),e&&(b=d.exec(f)[2].replace(/_/g,".").replace(/\;|\)/g,"")),b||i):void 0}function g(a){return i(o.os,a)}function h(a){return i(o.browser,a)}function i(a,b){for(var c,d,e,f=0;e=a[f];f++)if(c=e.criteria,d=new RegExp(e.identity,"i").test(b),c?d&&k(n,c):d)return e}function j(a,b){for(var c,d=0;c=a[d];d++)if(k(n,c.criteria))return c.identity||b.name;return b.name}function k(a,b){return b&&b.test?!!b.test(a):a.indexOf(b)>-1}function l(){for(var a,b,c=n,e=o.webview,f=!1,g=0;b=e[g];g++)if(k(c,b.criteria)&&(a=d(b.browserVersionSearch,c),k(c,b.webviewToken)||k(a,b.webviewBrowserVersion))){f=!0;break}return f}function m(a){return a.browser.name=a.browser.name.toLowerCase(),a.os.name=a.os.name.toLowerCase(),"ios"===a.os.name&&a.browser.webview&&(a.browser.version="-1"),a}var n,o={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Opera Mini/,identity:"Opera mini",versionSearch:"Opera Mini"},{criteria:/Opera|OPR/,identity:"Opera",versionSearch:"Opera|OPR"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/SAMSUNG|SamsungBrowser/,identity:"SBrowser",versionSearch:"Chrome"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"default"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone|Windows NT/,identity:"Window",versionSearch:"Windows Phone|Windows NT"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"default"},os:{version:"-1",name:"unknown"}}};a.Agent={create:function(a){this.ua=n=a;var d={os:{},browser:{}};return d.browser.name=b(o.browser),d.browser.version=c(d.browser.name),d.os.name=e(o.os),d.os.version=f(d.os.name),d.browser.webview=l(),m(d)}}}),eg.module("raf",[eg,window],function(a,b){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.msRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.msCancelAnimationFrame;if(function(){if("performance"in b==!1&&(b.performance={}),b.Date.now=b.Date.now||function(){return(new b.Date).getTime()},"now"in b.performance==!1){var a=b.Date.now();b.performance.timing&&b.performance.timing.navigationStart&&(a=b.performance.timing.navigationStart),b.performance.now=function(){return b.Date.now()-a}}}(),c&&!d){var e={},f=c;c=function(a){function b(b){e[c]&&a(b)}var c=f(b);return e[c]=!0,c},d=function(a){delete e[a]}}else c&&d||(c=function(a){return b.setTimeout(function(){a(b.performance.now())},16)},d=b.clearTimeout);a.requestAnimationFrame=function(a){return c(a)},a.cancelAnimationFrame=function(a){d(a)}}),eg.module("eg",["jQuery",eg,window,eg.Agent],function(a,b,c,d){function e(a,b,c,d){var e=a.hook[b];return e&&(d=e.apply(a,c)),a[b]=function(){var e=a.hook[b];return e?e.apply(a,c):d},d}b.VERSION="1.5.0",b.hook={},b.agent=function(){var a=d.create(c.navigator.userAgent);return e(this,"agent",[a],a)},b.translate=function(a,b,c){return c=c||!1,"translate"+(c?"3d(":"(")+a+","+b+(c?",0)":")")},b.isHWAccelerable=function(){var a,c=!1,f=b.agent(),g=f.os.version,h=f.browser.name,i=f.browser.version;return-1!==h.indexOf("chrome")?c=i>="25":/ie|edge|firefox|safari|inapp/.test(h)?c=!0:-1!==f.os.name.indexOf("android")&&(a=(d.ua.match(/\(.*\)/)||[null])[0],c=g>="4.1.0"&&!/EK-GN120|SM-G386F/.test(a)||g>="4.0.3"&&/SHW-|SHV-|GT-|SCH-|SGH-|SPH-|LG-F160|LG-F100|LG-F180|LG-F200|EK-|IM-A|LG-F240|LG-F260/.test(a)&&!/SHW-M420|SHW-M200|GT-S7562/.test(a)),e(this,"isHWAccelerable",[c,f],c)},b.isTransitional=function(){var a=!1,c=b.agent(),d=c.browser.name;if(/chrome|firefox|sbrowser/.test(d))a=!0;else switch(c.os.name){case"ios":a=/safari|inapp/.test(d)&&parseInt(c.os.version,10)<6;break;case"window":a=/safari/.test(d)||/ie/.test(d)&&parseInt(c.browser.nativeVersion,10)>=10;break;default:a=/safari/.test(d)}return e(this,"isTransitional",[a,c],a)},b._hasClickBug=function(){var a=b.agent(),c="safari"===a.browser.name;return e(this,"_hasClickBug",[c,a],c)},a&&a.extend(a.easing,{easeOutCubic:function(a){return 1-Math.pow(1-a,3)}})}),eg.module("class",[eg],function(a){a.Class=function(a){var b=function(){"function"==typeof a.construct&&a.construct.apply(this,arguments)};return b.prototype=a,b.prototype.instance=function(){return this},b.prototype.constructor=b,b},a.Class.extend=function(a,b){var c=function(){a.apply(this,arguments),"function"==typeof b.construct&&b.construct.apply(this,arguments)},d=function(){};d.prototype=a.prototype;var e=new d;for(var f in b)e[f]=b[f];return e.constructor=c,c.prototype=e,c}}),eg.module("component",[eg],function(a){a.Component=a.Class({construct:function(){this.eventHandler={},this.options={}},option:function(a,b){if(arguments.length>=2)return this.options[a]=b,this;if("string"==typeof a)return this.options[a];if(0===arguments.length)return this.options;for(var c in a)this.options[c]=a[c];return this},trigger:function(a,b){b=b||{};var c=this.eventHandler[a]||[],d=c.length>0;if(!d)return!0;c=c.concat(),b.eventType=a;var e,f,g,h=!1,i=[b];for(b.stop=function(){h=!0},(f=arguments.length)>2&&(i=i.concat(Array.prototype.slice.call(arguments,2,f))),e=0;g=c[e];e++)g.apply(this,i);return!h},once:function(a,b){if("object"==typeof a&&"undefined"==typeof b){var c,d=a;for(c in d)this.once(c,d[c]);return this}if("string"==typeof a&&"function"==typeof b){var e=this;this.on(a,function f(){var c=Array.prototype.slice.call(arguments);b.apply(e,c),e.off(a,f)})}return this},hasOn:function(a){return!!this.eventHandler[a]},on:function(a,b){if("object"==typeof a&&"undefined"==typeof b){var c,d=a;for(c in d)this.on(c,d[c]);return this}if("string"==typeof a&&"function"==typeof b){var e=this.eventHandler[a];"undefined"==typeof e&&(e=this.eventHandler[a]=[]),e.push(b)}return this},off:function(a,b){if(0===arguments.length)return this.eventHandler={},this;if("undefined"==typeof b){if("string"==typeof a)return this.eventHandler[a]=void 0,this;var c=a;for(var d in c)this.off(d,c[d]);return this}var e=this.eventHandler[a];if(e){var f,g;for(f=0;g=e[f];f++)if(g===b){e.splice(f,1);break}}return this}})}),eg.module("rotate",["jQuery",eg,window,document],function(a,b,c,d){function e(){var a,b,e,f=m();return"resize"===f?(a=d.documentElement.clientWidth,e=-1===h?a<d.documentElement.clientHeight:h>a?!0:a===h?i:!1):(b=c.orientation,0===b||180===b?e=!0:(90===b||-90===b)&&(e=!1)),e}function f(){var b=e();l&&i!==b&&(i=b,h=d.documentElement.clientWidth,a(c).trigger("rotate",{isVertical:i}))}function g(a){var b,e,i=m();if("resize"===i)c.setTimeout(function(){f()},0);else{if(b=300,"android"===k.os&&(e=d.documentElement.clientWidth,"orientationchange"===a.type&&e===h))return c.setTimeout(function(){g(a)},500),!1;c.clearTimeout(j),j=c.setTimeout(function(){f()},b)}}var h=-1,i=null,j=null,k=function(){var a=c.navigator.userAgent,b=a.match(/(iPhone OS|CPU OS|Android)\s([^\s;-]+)/),d={os:"",version:""};return b&&(d.os=b[1].replace(/(?:CPU|iPhone)\sOS/,"ios").toLowerCase(),d.version=b[2].replace(/\D/g,".")),d}(),l=/android|ios/.test(k.os);if(!l)return void(b.isPortrait=function(){return!1});var m=function(){var a;return a="android"===k.os&&"2.1"===k.version?"resize":"onorientationchange"in c?"orientationchange":"resize",m=function(){return a},a};return a.event.special.rotate={setup:function(){i=e(),h=d.documentElement.clientWidth,a(c).on(m(),g)},teardown:function(){a(c).off(m(),g)},trigger:function(a){a.isVertical=i}},b.isPortrait=e,{orientationChange:m,isVertical:e,triggerRotate:f,handler:g}}),eg.module("scrollEnd",["jQuery",eg,window],function(a,b,c){function d(a){var b,c,d=o,e=a.match(/iPhone|iPad|Android/),f=/NAVER|DAUM|; wv/,g=/Version/;return null===e||f.test(a)||(b=e[0],c=a.match(/\s(\d{1,2})_\d/),"Android"!==b&&g.test(a)&&c&&parseInt(c[1],10)<=7?d=q:"Android"===b&&(c=a.match(/Android\b(.*?);/),!/Chrome/.test(a)&&c&&parseFloat(c)<=2.3&&(d=q))),d}function e(){a(c).on("scroll",g),a(c).on("orientationchange",f)}function f(){m=!0}function g(){if(m)return void(m=!1);switch(s){
case q:h();break;case o:i()}}function h(){a(c).trigger("scrollend",{top:c.pageYOffset,left:c.pageXOffset})}function i(){clearTimeout(k),k=setTimeout(function(){return m?void(m=!1):void h()},r)}function j(){a(c).off("scroll",g),a(c).off("orientationchange",f)}var k,l=c.navigator.userAgent,m=!1,n=3,o=2,p=1,q=0,r=250,s=d(l);return a.event.special.scrollend={setup:function(){e()},teardown:function(){j()}},{detectType:s,getDetectType:d,CHROME:n,TIMERBASE:o,TOUCHBASE:p,SCROLLBASE:q}}),eg.module("transform",["jQuery",window],function(a){function b(a,b){var c=a,d=a.match(/((-|\+)*[0-9]+)%/);return d&&d.length>=1?c=b*(parseFloat(d[1])/100)+"px":-1===a.indexOf("px")&&(c=a+"px"),c}function c(a,c,d){for(var e,f="",g=a.split(")"),h=0,i=g.length-1;i>h;h++){var j=g[h];if((e=j.match(/(translate([XYZ]|3d)?|rotate)\(([^)]*)/))&&e.length>1)if("rotate"===e[1])-1===e[3].indexOf("deg")&&(j=e[1]+"("+e[3]+"deg");else switch(e[2]){case"X":j=e[1]+"("+b(e[3],c);break;case"Y":j=e[1]+"("+b(e[3],d);break;case"Z":break;default:for(var k=e[3].split(","),l=[c,d,100],m=0,n=k.length;n>m;m++)k[m]=b(k[m],l[m]);j=e[1]+"("+k.join(",")}j=" "+j+")",f+=j}return f=f.replace("%","").replace("+=","")}function d(a){var b=a.match(/((-|\+)*[\d|\.]+)(px|deg|rad)*/);return b&&b.length>=1?{num:parseFloat(b[1]),unit:b[3]}:void 0}function e(b){for(var c=b.split(")"),e=[],f=0,g=c.length-1;g>f;f++){var h=i(c[f]);h[1]=a.map(h[1],d),e.push(h)}return function(b){var c="",d=0;return a.each(e,function(f){d=e[f][0].indexOf("scale")>=0?1:0;var g=a.map(e[f][1],function(a){var c=a.num;return 1===d&&(c-=1),d+c*b+(a.unit||"")}).join(",");c+=e[f][0]+"("+g+") "}),c}}function f(b,d,f){var h,i,l,m=f.indexOf("+=")>=0;return f=c(f,parseFloat(a.css(b,"width"))||0,parseFloat(a.css(b,"height"))||0),m?(h=d&&"none"!==d?d:"matrix(1, 0, 0, 1, 0, 0)",i=e(f)):(h=j(d),l=j("none"),h[1].length<l[1].length?h=k(h):h[1].length>l[1].length&&(l=k(l)),i=e(f)),function(a){var b=[],c="";if(m)return h+i(a);if(1===a)c=g(l);else{for(var d,e,f=0,j=h[1].length;j>f;f++)d=parseFloat(h[1][f]),e=parseFloat(l[1][f]),b.push(d+(e-d)*a);c=g([h[0],b])}return c+i(a)}}function g(b){var c,d=[];if(a.isArray(b))return c=b[0],c+"("+b[1].join(h(c)+",")+h(c)+")";for(c in b)d.push(c);return a.map(d,function(a){return a+"("+b[a]+h(a)+")"}).join(" ")}function h(a){return a.indexOf("translate")>=0?"px":a.indexOf("rotate")>=0?"deg":""}function i(b){var c,d,e=b.match(/(\b\w+?)\((\s*[^\)]+)/),f=["",""];return e&&e.length>2&&(c=e[1],d=e[2].split(","),d=a.map(d,function(b){return a.trim(b)}),f=[a.trim(c),d]),f}function j(a){var b;return a&&"none"!==a?(a=a.replace(/\s/g,""),b=a.match(/(matrix)(3d)*\((.*)\)/),[b[1]+(b[2]||""),b[3].split(",")]):["matrix",["1","0","0","1","0","0"]]}function k(a){var b=a[0],c=a[1];return"matrix3d"===b?a:[b+"3d",[c[0],c[1],"0","0",c[2],c[3],"0","0","0","0","1","0",c[4],c[5],"0","1"]]}return a.fx.step.transform=function(b){b.rateFn=b.rateFn||f(b.elem,b.start,b.end),a.style(b.elem,"transform",b.rateFn(b.pos))},{toMatrix:j,toMatrix3d:k}}),eg.module("cssPrefix",["jQuery",document],function(a,b){if(!a.cssHooks)throw new Error("jQuery 1.4.3+ is needed for this plugin to work");var c=(a.fn.jquery.match(/^\d\.\d+/)||[])[0];if(c&&!(+c.replace(/\D/,"")>=18)){var d=["Webkit","Moz","O","ms"],e=["transitionProperty","transitionDuration","transition","transform","transitionTimingFunction"],f=function(){for(var a=(b.head||b.getElementsByTagName("head")[0]).style,c=0,e=d.length;e>c;c++)if(d[c]+"Transition"in a)return d[c]}();if(f){for(var g=function(b){var c=b.charAt(0).toUpperCase()+b.slice(1),d=f+c,e="ms"===f?"Ms"+c:d;a.cssHooks[c]=a.cssHooks[f.toLowerCase()+c]=a.cssHooks[b]={get:function(b,c){return c?a.css(b,e):b.style[d]},set:function(a,b){a.style[d]=b}}},h=0,i=e.length;i>h;h++)g(e[h]);return{vendorPrefix:f,setCssHooks:g}}}}),eg.module("pauseResume",["jQuery"],function(a){function b(a,b,c,d){this.el=b,this.opt=d,this.start=-1,this.elapsed=0,this.paused=!1,this.uuid=o++,this.easingNames=[],this.prop=c,this.type=a}function c(a,b,c){return function(b){return a=a&&"auto"!==a?parseFloat(a):0,a+b*c}}function d(a,c,d,e){var f;f=new b(a,c,d,e),c.__aniProps=c.__aniProps||[],0===c.__aniProps.length&&f.init(),c.__aniProps.push(f)}function e(a){var b=a.__aniProps.shift();b&&b.clearEasingFn(),a.__aniProps[0]&&a.__aniProps[0].init()}function f(a){return a.__aniProps&&0!==a.__aniProps.length?a.__aniProps[0].paused?"paused":"inprogress":"empty"}function g(a){var b,c;return b=a.__aniProps.shift(),b.clearEasingFn(),c=b.opt.old,c&&"function"==typeof c&&c.call(a),a.__aniProps[0]&&a.__aniProps[0].init(),a.__aniProps[0]}function h(a,b,c,d){return function(e){var f=a+b*e;return c(d(f))}}function i(a,b){var c=k(a[0],a[1]),d=j(b[0],b[1]);return function(a){return d(c(a))}}function j(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function k(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}var l=a.fn.animate,m=a.fn.stop,n=a.fn.delay,o=1;b.prototype.init=function(){var b;this.start=a.now(),this.elapsed=0;for(var d in this.prop){var e,f,g=this.prop[d];"transform"!==d&&("string"!=typeof g||(e=g.search(/[+|-]=/))<0||(f="-"===g.charAt(e)?-1:1,b=a.css(this.el,d),this.prop[d]=g.replace(/([-|+])*([\d|\.])+/g,c(b,d,f)).replace(/[-|+]+=/g,"")))}},b.prototype.addEasingFn=function(a){this.easingNames.push(a)},b.prototype.clearEasingFn=function(){for(var b;b=this.easingNames.shift();)delete a.easing[b];this.easingNames=[]},a.fn.animate=function(b,c,e,f){return this.each(function(){var h=a.speed(c,e,f);h.complete=function(){g(this)},d("animate",this,b,h),l.call(a(this),b,h)})},a.fn.delay=function(b,c){var f,g=arguments[2];return c&&"fx"!==c?n.call(this,b,c):(f=parseInt(b,10),f=isNaN(f)?0:f,this.each(function(){g||d("delay",this,null,{duration:f});var c=this;n.call(a(this),b).queue(function(a){a(),e(c)})}))},a.fn.pause=function(){return this.each(function(){var b,c="fx";"inprogress"===f(this)&&(a.queue(this,c,[a.noop]),m.call(a(this)),(b=this.__aniProps[0])&&(b.elapsed+=a.now()-b.start,b.elapsed>=b.opt.duration&&(b=g(this)),b&&(b.paused=!0)))})},a.fn.resume=function(){return this.each(function(){var b,c,d="fx";if("paused"===f(this))for(a.queue(this,d,[]),c=0;b=this.__aniProps[c];){if(b.elapsed>0&&b.opt.easing){var e=b.elapsed/b.opt.duration,g=1-e,j=a.easing[b.opt.easing],k=j(e),m=i([k,1],[0,1]),n=b.opt.easing+"_"+b.uuid;a.easing[n]=h(e,g,m,j),b.opt.easing=n,b.addEasingFn(n)}b.paused=!1,b.opt.duration-=b.elapsed,(b.opt.duration>0||0===b.elapsed)&&(0===c&&b.init(),"delay"===b.type?a(this).delay(b.opt.duration,"fx",!0):l.call(a(this),b.prop,b.opt)),c++}})},a.fn.stop=function(a,b){var c=b;return m.apply(this,arguments),"string"!=typeof a&&(c=a),this.each(function(){var a;if("empty"!==f(this))if(c){for(;a=this.__aniProps.shift();)a.clearEasingFn();this.__aniProps=[]}else a=this.__aniProps.shift(),a&&a.clearEasingFn()})},jQuery.expr.filters.paused=function(a){return"paused"===f(a)}}),eg.module("persist",["jQuery",eg,window,document],function(a,b,c,d){function e(a){if(a){var b="__tmp__"+r;try{return a.setItem(b,r),a.getItem(b)===r}catch(c){return!1}}}function f(a){u=u||a.originalEvent&&a.originalEvent.persisted,!u&&v?t.trigger("persist"):g()}function g(){k(null)}function h(){var b,d=x?x.getItem(c.location.href+r):n.state;if(null===d)return{};var e,f="string"==typeof d&&d.length>0&&"null"!==d;try{if(b=q.parse(d),e=!("object"!==a.type(b)||b instanceof Array),!f||!e)throw new Error}catch(g){i(),b={}}return b}function i(){console.warn("window.history or session/localStorage has no valid format data to be handled in persist.")}function j(a){var b=h()[a];return("null"===b||"undefined"==typeof b)&&(b=null),b}function k(a){if(x)a?x.setItem(c.location.href+r,q.stringify(a)):x.removeItem(c.location.href+r);else try{n.replaceState(null===a?null:q.stringify(a),d.title,c.location.href)}catch(b){console.warn(b.message)}a?t.attr(r,!0):t.attr(r,null)}function l(a,b){var c=h();c[a]=b,k(c)}var m=c.performance,n=c.history,o=b.agent(),p=function(){var a=parseFloat(o.os.version);return!("ios"===o.os.name||"mac"===o.os.name&&"safari"===o.browser.name||"android"===o.os.name&&(4.3>=a&&o.browser.webview===!0||3>a))}(),q=c.JSON,r="___persist___",s="KEY"+r,t=a(c),u=t.attr(r)===!0,v=m&&m.navigation&&m.navigation.type===(m.navigation.TYPE_BACK_FORWARD||2),w="replaceState"in n&&"state"in n,x=function(){return e(c.sessionStorage)?c.sessionStorage:e(c.localStorage)?c.localStorage:void 0}();return w||x?q?(a.persist=function(a,b){var c;return"string"==typeof a?c=a:(c=s,b=1===arguments.length?a:null),(b||2===arguments.length)&&l(c,b),j(c)},a.persist.isNeeded=function(){return p},!v&&g(),a.event.special.persist={setup:function(){t.on("pageshow",f)},teardown:function(){t.off("pageshow",f)},trigger:function(a){a.state=j(s)}},{isBackForwardNavigated:v,onPageshow:f,reset:g,getState:h,setState:k,GLOBALKEY:s}):void console.warn("The JSON object is not supported in your browser.\r\nFor work around use polyfill which can be found at:\r\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON#Polyfill"):void 0}),eg.module("visible",["jQuery",eg,document],function(a,b,c){var d={change:"change"};b.Visible=b.Class.extend(b.Component,{_events:function(){return d},construct:function(b,d,e){this._prefix=e||"",this.options={targetClass:"check_visible",expandSize:0},a.extend(this.options,d),this._wrapper=a(b)[0]||c,this._getAreaRect=this._wrapper.nodeType&&1===this._wrapper.nodeType?this._getWrapperRect:this._getWindowRect,this._targets=[],this._timer=null,this._supportElementsByClassName=function(){var a,b=c.createElement("div");return b.getElementsByClassName?(a=b.getElementsByClassName("dummy"),b.innerHTML="<span class='dummy'></span>",1===a.length):!1}(),this.refresh()},refresh:function(){return this._supportElementsByClassName?(this._targets=this._wrapper.getElementsByClassName(this.options.targetClass),this.refresh=function(){return this}):this.refresh=function(){return this._targets=a(this._wrapper).find("."+this.options.targetClass).get(),this},this.refresh()},check:function(b,c){return"number"!=typeof b&&(c=b,b=-1),"undefined"==typeof c&&(c=!1),clearTimeout(this._timer),0>b?this._check(c):this._timer=setTimeout(a.proxy(function(){this._check(c),this._timer=null},this),b),this},_getWrapperRect:function(){return this._wrapper.getBoundingClientRect()},_getWindowRect:function(){return{top:0,left:0,bottom:c.documentElement.clientHeight||c.body.clientHeight,right:c.documentElement.clientWidth||c.body.clientWidth}},_reviseElements:function(b,c){return this._reviseElements=this._supportElementsByClassName?function(){return!0}:function(b,c){return a(b).hasClass(this.options.targetClass)?!0:(b.__VISIBLE__=null,this._targets.splice(c,1),!1)},this._reviseElements(b,c)},_check:function(b){var c=parseInt(this.options.expandSize,10),e=[],f=[],g=this._getAreaRect();g=a.extend({},g),g.top-=c,g.left-=c,g.bottom+=c,g.right+=c;for(var h,i,j,k,l=this._targets.length-1;h=this._targets[l];l--)i=h.getBoundingClientRect(),(0!==i.width||0!==i.height)&&this._reviseElements(h,l)&&(k=!!h.__VISIBLE__,h.__VISIBLE__=j=b?!(i.top<g.top||i.bottom>g.bottom||i.right>g.right||i.left<g.left):!(i.bottom<g.top||g.bottom<i.top||i.right<g.left||g.right<i.left),k!==j&&(j?e:f).unshift(h));this.trigger(this._prefix+d.change,{visible:e,invisible:f})},destroy:function(){this.off(),this._targets=[],this._wrapper=this._timer=null}})}),eg.module("movableCoord",[eg,window,"Hammer"],function(a,b,c){var d="ontouchstart"in b,e=c.assign||c.merge,f=a.MovableCoord=a.Class.extend(a.Component,{construct:function(a){e(this.options={min:[0,0],max:[100,100],bounce:[10,10,10,10],margin:[0,0,0,0],circular:[!1,!1,!1,!1],easing:function(a){return 1-Math.pow(1-a,3)},maximumDuration:1/0,deceleration:6e-4},a),this._reviseOptions(),this._status={grabOutside:!1,curHammer:null,moveDistance:null,animationParam:null,prevented:!1},this._hammers={},this._pos=this.options.min.concat(),this._subOptions={},this._raf=null,this._animationEnd=c.bindFn(this._animationEnd,this),this._restore=c.bindFn(this._restore,this),this._panmove=c.bindFn(this._panmove,this),this._panend=c.bindFn(this._panend,this)},bind:function(a,b){var c=this._getEl(a),d=c[f._KEY],g={direction:f.DIRECTION_ALL,scale:[1,1],thresholdAngle:45,interruptable:!0,inputType:["touch","mouse"]};e(g,b);var h=this._convertInputType(g.inputType);return h?(d?this._hammers[d].inst.destroy():d=Math.round(Math.random()*(new Date).getTime()),this._hammers[d]={inst:this._createHammer(c,g,h),el:c,options:g},c[f._KEY]=d,this):this},_createHammer:function(a,b,d){try{var e=new c.Manager(a,{recognizers:[[c.Pan,{direction:b.direction,threshold:0}]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",userDrag:"none"},inputClass:d});return this._attachHammerEvents(e,b)}catch(f){}},_attachHammerEvents:function(a,b){return a.on("hammer.input",c.bindFn(function(c){var d=a.get("pan").options.enable;c.isFirst?(this._subOptions=b,this._status.curHammer=a,d&&this._panstart(c)):c.isFinal&&d&&this._panend(c)},this)).on("panstart panmove",this._panmove)},_detachHammerEvents:function(a){a.off("hammer.input panstart panmove panend")},_convertInputType:function(a){var b=!1,e=!1;return a=a||[],a.forEach(function(a){switch(a){case"mouse":e=!0;break;case"touch":b=d}}),b&&c.TouchInput||e&&c.MouseInput||null},unbind:function(a){var b=this._getEl(a),c=b[f._KEY];return c&&(this._hammers[c].inst.destroy(),delete this._hammers[c],delete b[f._KEY]),this},getHammer:function(a){var b=this._getEl(a),c=b?b[f._KEY]:null;return c&&this._hammers[c]?this._hammers[c].inst:null},_grab:function(){if(this._status.animationParam){this.trigger("animationEnd");var b=this._getCircularPos(this._pos);(b[0]!==this._pos[0]||b[1]!==this._pos[1])&&(this._pos=b,this._triggerChange(this._pos,!0)),this._status.animationParam=null,this._raf&&a.cancelAnimationFrame(this._raf),this._raf=null}},_getCircularPos:function(a,b,c,d){return b=b||this.options.min,c=c||this.options.max,d=d||this.options.circular,d[0]&&a[1]<b[1]&&(a[1]=(a[1]-b[1])%(c[1]-b[1]+1)+c[1]),d[1]&&a[0]>c[0]&&(a[0]=(a[0]-b[0])%(c[0]-b[0]+1)+b[0]),d[2]&&a[1]>c[1]&&(a[1]=(a[1]-b[1])%(c[1]-b[1]+1)+b[1]),d[3]&&a[0]<b[0]&&(a[0]=(a[0]-b[0])%(c[0]-b[0]+1)+c[0]),a[0]=+a[0].toFixed(5),a[1]=+a[1].toFixed(5),a},_isOutside:function(a,b,c){return a[0]<b[0]||a[1]<b[1]||a[0]>c[0]||a[1]>c[1]},_isOutToOut:function(a,b){var c=this.options.min,d=this.options.max;return(a[0]<c[0]||a[0]>d[0]||a[1]<c[1]||a[1]>d[1])&&(b[0]<c[0]||b[0]>d[0]||b[1]<c[1]||b[1]>d[1])},_panstart:function(a){if(this._subOptions.interruptable||!this._status.prevented){this._setInterrupt(!0);var b=this._pos;this._grab(),this.trigger("hold",{pos:b.concat(),hammerEvent:a}),this._status.moveDistance=b.concat(),this._status.grabOutside=this._isOutside(b,this.options.min,this.options.max)}},_panmove:function(a){if(this._isInterrupting()&&this._status.moveDistance){var b,c,d,e=this._pos,g=this.options.min,h=this.options.max,i=this.options.bounce,j=this.options.margin,k=this._subOptions.direction,l=this._subOptions.scale,m=this._getDirection(a.angle),n=[j[0]+i[0],j[1]+i[1],j[2]+i[2],j[3]+i[3]],o=!1,p=this._status.curHammer.session.prevInput;if(p?(a.offsetX=a.deltaX-p.deltaX,a.offsetY=a.deltaY-p.deltaY):a.offsetX=a.offsetY=0,(k===f.DIRECTION_ALL||k&f.DIRECTION_HORIZONTAL&&m&f.DIRECTION_HORIZONTAL)&&(this._status.moveDistance[0]+=a.offsetX*l[0],o=!0),(k===f.DIRECTION_ALL||k&f.DIRECTION_VERTICAL&&m&f.DIRECTION_VERTICAL)&&(this._status.moveDistance[1]+=a.offsetY*l[1],o=!0),o&&(a.srcEvent.preventDefault(),a.srcEvent.stopPropagation()),a.preventSystemEvent=o,e[0]=this._status.moveDistance[0],e[1]=this._status.moveDistance[1],e=this._getCircularPos(e,g,h),this._status.grabOutside&&!this._isOutside(e,g,h)&&(this._status.grabOutside=!1),this._status.grabOutside)c=g[0]-n[3],d=h[0]+n[1],b=e[0],e[0]=b>d?d:c>b?c:b,c=g[1]-n[0],d=h[1]+n[2],b=e[1],e[1]=b>d?d:c>b?c:b;else{var q=this._easing(1e-5)/1e-5;e[1]<g[1]?(b=(g[1]-e[1])/(n[0]*q),e[1]=g[1]-this._easing(b)*n[0]):e[1]>h[1]&&(b=(e[1]-h[1])/(n[2]*q),e[1]=h[1]+this._easing(b)*n[2]),e[0]<g[0]?(b=(g[0]-e[0])/(n[3]*q),e[0]=g[0]-this._easing(b)*n[3]):e[0]>h[0]&&(b=(e[0]-h[0])/(n[1]*q),e[0]=h[0]+this._easing(b)*n[1])}this._triggerChange(e,!0,a)}},_panend:function(a){var b=this._pos;if(this._isInterrupting()&&this._status.moveDistance){if(0===a.distance)this._setInterrupt(!1),this.trigger("release",{depaPos:b.concat(),destPos:b.concat(),hammerEvent:a||null});else{var c=this._subOptions.direction,d=this._subOptions.scale,e=Math.abs(a.velocityX),g=Math.abs(a.velocityY);!(c&f.DIRECTION_HORIZONTAL)&&(e=0),!(c&f.DIRECTION_VERTICAL)&&(g=0);var h=this._getNextOffsetPos([e*(a.deltaX<0?-1:1)*d[0],g*(a.deltaY<0?-1:1)*d[1]]),i=[b[0]+h[0],b[1]+h[1]];i=this._getPointOfIntersection(b,i),this.trigger("release",{depaPos:b.concat(),destPos:i,hammerEvent:a||null}),b[0]!==i[0]||b[1]!==i[1]?this._animateTo(i,null,a||null):this._setInterrupt(!1)}this._status.moveDistance=null}},_isInterrupting:function(){return this._subOptions.interruptable||this._status.prevented},_getDirection:function(a){var b=this._subOptions.thresholdAngle;return 0>b||b>90?f.DIRECTION_NONE:(a=Math.abs(a),a>b&&180-b>a?f.DIRECTION_VERTICAL:f.DIRECTION_HORIZONTAL)},_getNextOffsetPos:function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.abs(b/-this.options.deceleration);return[a[0]/2*c,a[1]/2*c]},_getDurationFromPos:function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(b/this.options.deceleration*2);return 100>c?0:c},_getPointOfIntersection:function(a,b){var c,d,e=this.options.circular,f=this.options.bounce,g=this.options.min,h=this.options.max,i=[g[0]-f[3],g[1]-f[0]],j=[h[0]+f[1],h[1]+f[2]];return b=[b[0],b[1]],c=b[0]-a[0],d=b[1]-a[1],e[3]||(b[0]=Math.max(i[0],b[0])),e[1]||(b[0]=Math.min(j[0],b[0])),b[1]=c?a[1]+d/c*(b[0]-a[0]):b[1],e[0]||(b[1]=Math.max(i[1],b[1])),e[2]||(b[1]=Math.min(j[1],b[1])),b[0]=d?a[0]+c/d*(b[1]-a[1]):b[0],[Math.min(h[0],Math.max(g[0],b[0])),Math.min(h[1],Math.max(g[1],b[1]))]},_isCircular:function(a){var b=this.options.circular,c=this.options.min,d=this.options.max;return b[0]&&a[1]<c[1]||b[1]&&a[0]>d[0]||b[2]&&a[1]>d[1]||b[3]&&a[0]<c[0]},_prepareParam:function(a,b,c){var d=this._pos,e=this._getPointOfIntersection(d,a);e=this._isOutToOut(d,e)?d:e;var f=[Math.abs(e[0]-d[0]),Math.abs(e[1]-d[1])];return b=null==b?this._getDurationFromPos(f):b,b=this.options.maximumDuration>b?b:this.options.maximumDuration,{depaPos:d.concat(),destPos:e.concat(),isBounce:this._isOutside(e,this.options.min,this.options.max),isCircular:this._isCircular(a),duration:b,distance:f,hammerEvent:c||null,done:this._animationEnd}},_restore:function(a,b){var c=this._pos,d=this.options.min,e=this.options.max;this._animate(this._prepareParam([Math.min(e[0],Math.max(d[0],c[0])),Math.min(e[1],Math.max(d[1],c[1]))],null,b),a)},_animationEnd:function(){this._status.animationParam=null,this._pos=this._getCircularPos([Math.round(this._pos[0]),Math.round(this._pos[1])]),this._setInterrupt(!1),this.trigger("animationEnd")},_animate:function(b,c){if(b.startTime=(new Date).getTime(),this._status.animationParam=b,b.duration){var d=this._status.animationParam,e=this;!function f(){return e._raf=null,e._frame(d)>=1?void c():void(e._raf=a.requestAnimationFrame(f))}()}else this._triggerChange(b.destPos,!1),c()},_animateTo:function(a,b,c){var d=this._prepareParam(a,b,c),e=this.trigger("animationStart",d);if(d.isCircular&&!e)throw new Error("You can't stop the 'animation' event when 'circular' is true.");if(e){var f=this,g=[],h=function(){var a=g.shift();a&&a.call(this)};(d.depaPos[0]!==d.destPos[0]||d.depaPos[1]!==d.destPos[1])&&g.push(function(){f._animate(d,h)}),this._isOutside(d.destPos,this.options.min,this.options.max)&&g.push(function(){f._restore(h,c)}),g.push(function(){f._animationEnd()}),h()}},_frame:function(a){for(var b=new Date-a.startTime,c=this._easing(b/a.duration),d=[a.depaPos[0],a.depaPos[1]],e=0;2>e;e++)d[e]!==a.destPos[e]&&(d[e]+=(a.destPos[e]-d[e])*c);return d=this._getCircularPos(d),this._triggerChange(d,!1),c},_reviseOptions:function(){var a,b=this;["bounce","margin","circular"].forEach(function(c){a=b.options[c],null!=a&&(b.options[c]=a.constructor===Array?2===a.length?a.concat(a):a.concat():/string|number|boolean/.test(typeof a)?[a,a,a,a]:null)})},_triggerChange:function(a,b,c){this._pos=a.concat(),this.trigger("change",{pos:a.concat(),holding:b,hammerEvent:c||null})},get:function(){return this._pos.concat()},setTo:function(a,b,c){this._grab();var d=this._pos.concat(),e=this.options.circular,f=this.options.min,g=this.options.max;return a===d[0]&&b===d[1]?this:(this._setInterrupt(!0),a!==d[0]&&(e[3]||(a=Math.max(f[0],a)),e[1]||(a=Math.min(g[0],a))),b!==d[1]&&(e[0]||(b=Math.max(f[1],b)),e[2]||(b=Math.min(g[1],b))),c?this._animateTo([a,b],c):(this._pos=this._getCircularPos([a,b]),this._triggerChange(this._pos,!1),this._setInterrupt(!1)),this)},setBy:function(a,b,c){return this.setTo(null!=a?this._pos[0]+a:this._pos[0],null!=b?this._pos[1]+b:this._pos[1],c)},_easing:function(a){return a>1?1:this.options.easing(a)},_setInterrupt:function(a){!this._subOptions.interruptable&&(this._status.prevented=a)},_getEl:function(a){return"string"==typeof a?document.querySelector(a):a instanceof jQuery&&a.length>0?a[0]:a},enableInput:function(a){return this._inputControl(!0,a)},disableInput:function(a){return this._inputControl(!1,a)},_inputControl:function(a,b){var c={enable:a};if(b){var d=this.getHammer(b);d&&d.get("pan").set(c)}else for(var e in this._hammers)this._hammers[e].inst.get("pan").set(c);return this},destroy:function(){this.off();for(var a in this._hammers)this._hammers[a].inst.destroy(),delete this._hammers[a].el[f._KEY],delete this._hammers[a]}});return f._KEY="__MOVABLECOORD__",f.DIRECTION_NONE=1,f.DIRECTION_LEFT=2,f.DIRECTION_RIGHT=4,f.DIRECTION_UP=8,f.DIRECTION_DOWN=16,f.DIRECTION_HORIZONTAL=6,f.DIRECTION_VERTICAL=24,f.DIRECTION_ALL=f.DIRECTION_HORIZONTAL|f.DIRECTION_VERTICAL,{MovableCoord:a.MovableCoord,assignFn:e}}),eg.module("flicking",["jQuery",eg,window,document,eg.MovableCoord],function(a,b,c,d,e){var f={beforeFlickStart:"beforeFlickStart",beforeRestore:"beforeRestore",flick:"flick",flickEnd:"flickEnd",restore:"restore"},g=d.documentElement.style;g="transform"in g||"webkitTransform"in g;var h=c.CSS&&c.CSS.supports&&c.CSS.supports("will-change","transform"),i=b.agent().os;i="android"===i.name&&/^2\./.test(i.version);var j="data-height";b.Flicking=b.Class.extend(b.Component,{_events:function(){return f},construct:function(c,d,e){this.$wrapper=a(c);var f=this.$wrapper.children();if(!f.length)throw new Error("Given base element doesn't exist or it hasn't proper DOM structure to be initialized.");this._setOptions(d),this._setConfig(f,e),!b._hasClickBug()&&(this._setPointerEvents=a.noop),this._build(),this._bindEvents(!0),this._applyPanelsCss(),this._arrangePanels(),this.options.hwAccelerable&&h&&this._setHint(),this.options.adaptiveHeight&&this._setAdaptiveHeight(),this._adjustContainerCss("end")},_setOptions:function(c){var d={previewPadding:[0,0],bounce:[10,10]};a.extend(this.options={hwAccelerable:b.isHWAccelerable(),prefix:"eg-flick",deceleration:6e-4,horizontal:!0,circular:!1,previewPadding:d.previewPadding,bounce:d.bounce,threshold:40,duration:100,panelEffect:a.easing.easeOutCubic,defaultIndex:0,inputType:["touch","mouse"],thresholdAngle:45,adaptiveHeight:!1},c);var e=this;a.each(d,function(b,c){var d=e.options[b];a.isNumeric(d)?d=[d,d]:a.isArray(d)||(d=c),e.options[b]=d})},_setConfig:function(b,c){var d=this.options,f=d.previewPadding,g=b.filter("."+d.prefix+"-container:first");g.length&&(this.$container=g,b=g.children()),this._conf={panel:{$list:b,index:0,no:0,currIndex:0,currNo:0,size:0,count:0,origCount:0,changed:!1,animating:!1,minCount:f[0]+f[1]>0?5:3},touch:{holdPos:[0,0],destPos:[0,0],distance:0,direction:null,lastPos:0,holding:!1},customEvent:{flick:!0,restore:!1,restoreCall:!1},origPanelStyle:{wrapper:{className:this.$wrapper.attr("class")||null,style:this.$wrapper.attr("style")||null},list:b.map(function(b,c){return{className:a(c).attr("class")||null,style:a(c).attr("style")||null}})},useLayerHack:d.hwAccelerable&&!h,dirData:[],indexToMove:0,eventPrefix:c||"",$dummyAnchor:null},a([["LEFT","RIGHT"],["UP","DOWN"]][+!d.horizontal]).each(a.proxy(function(a,b){this._conf.dirData.push(e["DIRECTION_"+b])},this))},_build:function(){var a,b=this._conf.panel,c=this.options,d=b.$list,f=c.previewPadding.concat(),g=c.prefix,h=c.horizontal,i=b.count=b.origCount=d.length,j=c.bounce;this._setPadding(f,!0);var k=this._getDataByDirection([b.size,"100%"]);a="position:relative;z-index:2000;width:100%;height:100%;"+(h?"":"top:0;"),this.$container?this.$container.attr("style",a):this.$container=d.wrapAll("<div class='"+g+"-container' style='"+a+"'>").parent(),d.addClass(g+"-panel").css({position:"absolute",width:k[0],height:k[1],boxSizing:"border-box",top:0,left:0}),this._addClonePanels()&&(i=b.count=(b.$list=this.$container.children()).length),this._mcInst=new e({min:[0,0],max:this._getDataByDirection([b.size*(i-1),0]),margin:0,circular:!1,easing:c.panelEffect,deceleration:c.deceleration,bounce:this._getDataByDirection([0,j[1],0,j[0]])}),this._setDefaultPanel(c.defaultIndex)},_setPadding:function(b,c){var d=this.options.horizontal,e=this._conf.panel,f=b[0]+b[1],g={};(f||!c)&&(g.padding=(d?"0 "+b.reverse().join("px 0 "):b.join("px 0 "))+"px"),c&&(g.overflow="hidden",g.boxSizing="border-box"),!a.isEmptyObject(g)&&this.$wrapper.css(g),e.size=this.$wrapper[d?"width":"height"]()},_addClonePanels:function(){var a,b=this._conf.panel,c=b.origCount,d=b.minCount-c,e=b.$list;if(this.options.circular&&c<b.minCount){for(a=e.clone();a.length<d;)a=a.add(e.clone());return this.$container.append(a)}},_movePanelPosition:function(b,c){var d,e=this._conf.panel,f=e.$list.toArray();d=f.splice(c?0:e.count-b,b),e.$list=a(c?f.concat(d):d.concat(f))},_setDefaultPanel:function(a){var b,c,d=this._conf.panel,e=d.count-1;this.options.circular?(a>0&&e>=a&&this._movePanelPosition(a,!0),c=this._getBasePositionIndex(),this._movePanelPosition(c,!1),this._setPanelNo({no:a,currNo:a})):a>0&&e>=a&&(this._setPanelNo({index:a,no:a,currIndex:a,currNo:a}),b=[-(d.size*a),0],this._setTranslate(b),this._setMovableCoord("setTo",[Math.abs(b[0]),Math.abs(b[1])],!0,0))},_arrangePanels:function(a,b){var c,d=this._conf,e=d.panel,f=d.touch,g=d.dirData;this.options.circular&&(d.customEvent.flick=!1,a&&(b&&(f.direction=g[+!Boolean(b>0)]),this._arrangePanelPosition(f.direction,b)),c=this._getBasePositionIndex(),this._setPanelNo({index:c,currIndex:c}),d.customEvent.flick=!!this._setMovableCoord("setTo",[e.size*e.index,0],!0,0)),this._applyPanelsPos()},_applyPanelsPos:function(){this._conf.panel.$list.each(a.proxy(this._applyPanelsCss,this))},_setMoveStyle:function(){return g?function(a,c){a.css("transform",b.translate(c[0],c[1],this._conf.useLayerHack))}:function(a,b){a.css({left:b[0],top:b[1]})}}(),_applyPanelsCss:function(){var b=this._conf,c="__dummy_anchor";i?(b.$dummyAnchor=a("."+c),!b.$dummyAnchor.length&&this.$wrapper.append(b.$dummyAnchor=a("<a href='javascript:void(0);' class='"+c+"' style='position:absolute;height:0px;width:0px;'>")),this._applyPanelsCss=function(b,c){var d=this._getDataByDirection([this._conf.panel.size*b+"px",0]);a(c).css({left:d[0],top:d[1]})}):this._applyPanelsCss=function(b,c){var d=this._getDataByDirection([g?100*b+"%":this._conf.panel.size*b+"px",0]);this._setMoveStyle(a(c),d)}},_adjustContainerCss:function(a,c){var d,e=this._conf,f=e.panel,g=this.options,h=g.horizontal,j=g.previewPadding[0],k=this.$container;i&&(c||(c=[-f.size*f.index,0]),"start"===a?(k=k[0].style,d=parseInt(k[h?"left":"top"],10),h?d&&(k.left=0):d!==j&&(k.top="0px"),this._setTranslate([-c[+!g.horizontal],0])):"end"===a&&(c=this._getCoordsValue(c),k.css({left:c.x,top:c.y,transform:b.translate(0,0,e.useLayerHack)}),e.$dummyAnchor[0].focus()))},_setMovableCoord:function(a,b,c,d){return c&&(b=this._getDataByDirection(b)),this._mcInst[a](b[0],b[1],d)},_setHint:function(){var a="transform";this.$container.css("willChange",a),this._conf.panel.$list.css("willChange",a)},_getDataByDirection:function(a){return a=a.concat(),!this.options.horizontal&&a.reverse(),a},_arrangePanelPosition:function(a,b){var c=a===this._conf.dirData[0];this._movePanelPosition(Math.abs(b||1),c)},_getBasePositionIndex:function(){return Math.floor(this._conf.panel.count/2-.1)},_bindEvents:function(b){var c=this.options,d=this.$wrapper,f=this._mcInst;b?f.bind(d,{scale:this._getDataByDirection([-1,0]),direction:e["DIRECTION_"+(c.horizontal?"HORIZONTAL":"VERTICAL")],interruptable:!1,inputType:c.inputType,thresholdAngle:c.thresholdAngle}).on({hold:a.proxy(this._holdHandler,this),change:a.proxy(this._changeHandler,this),release:a.proxy(this._releaseHandler,this),animationStart:a.proxy(this._animationStartHandler,this),animationEnd:a.proxy(this._animationEndHandler,this)}):f.unbind(d).off()},_holdHandler:function(a){var b=this._conf;b.touch.holdPos=a.pos,b.touch.holding=!0,b.panel.changed=!1,this._adjustContainerCss("start",a.pos)},_changeHandler:function(b){var c,d,e=this._conf,g=e.touch,h=+!this.options.horizontal,i=b.pos[h],j=g.holdPos[h],k=null;this._setPointerEvents(b),b.hammerEvent?(c=b.hammerEvent.direction,d=b.hammerEvent[this.options.horizontal?"deltaX":"deltaY"],~a.inArray(c,e.dirData)||(c=e.dirData[+(Math.abs(g.lastPos)<=d)]),g.lastPos=d):g.lastPos=null,e.customEvent.flick&&(k=this._triggerEvent(f.flick,{pos:b.pos,holding:b.holding,direction:c||g.direction,distance:i-(j||(g.holdPos[h]=i))})),(k||null===k)&&this._setTranslate([-i,0])},_releaseHandler:function(a){var b=this._conf.touch,c=a.destPos,d=+!this.options.horizontal,e=b.holdPos[d],f=this._conf.panel.size;b.distance=a.depaPos[d]-b.holdPos[d],b.direction=this._conf.dirData[+!Boolean(b.holdPos[d]<a.depaPos[d])],c[d]=Math.max(e-f,Math.min(e,c[d])),b.destPos[d]=c[d]=Math.round(c[d]/f)*f,0===b.distance&&this._adjustContainerCss("end"),b.holding=!1,this._setPointerEvents()},_animationStartHandler:function(a){var b=this._conf,c=b.panel,d=b.customEvent;c.animating=!0,!d.restoreCall&&a.hammerEvent&&this._setPhaseValue("start",{depaPos:a.depaPos,destPos:a.destPos})===!1&&a.stop(),a.hammerEvent&&(a.duration=this.options.duration,a.destPos[+!this.options.horizontal]=c.size*(c.index+b.indexToMove)),this._isMovable()?!d.restoreCall&&(d.restore=!1):this._triggerBeforeRestore(a)},_animationEndHandler:function(){this._setPhaseValue("end"),this._conf.panel.animating=!1,this._triggerRestore()},_setAdaptiveHeight:function(a){var b,c,d,f,g=this._conf,h=g.indexToMove;b=0===h?this["get"+(a===e.DIRECTION_LEFT&&"Next"||a===e.DIRECTION_RIGHT&&"Prev"||"")+"Element"]():g.panel.$list.eq(g.panel.currIndex+h),c=b.find(":first"),f=c.attr(j),f||(d=b.children(),f=(d.length>1?b.css("height","auto"):c).outerHeight(!0),c.attr(j,f)),this.$wrapper.height(f)},_triggerBeforeRestore:function(a){var b=this._conf,c=b.touch;c.direction=~~b.dirData.join("").replace(c.direction,""),b.customEvent.restore=this._triggerEvent(f.beforeRestore,{depaPos:a.depaPos,destPos:a.destPos}),b.customEvent.restore||("stop"in a&&a.stop(),b.panel.animating=!1)},_triggerRestore:function(){var a=this._conf.customEvent;a.restore&&this._triggerEvent(f.restore),a.restoreCall=!1},_setPhaseValue:function(a,b){var c=this._conf,d=this.options,e=c.panel;if("start"===a&&(e.changed=this._isMovable())){if(!this._triggerEvent(f.beforeFlickStart,b))return e.changed=e.animating=!1;d.adaptiveHeight&&this._setAdaptiveHeight(c.touch.direction),0===c.indexToMove&&this._setPanelNo()}else"end"===a&&(d.circular&&e.changed&&this._arrangePanels(!0,c.indexToMove),!i&&this._setTranslate([-e.size*e.index,0]),c.touch.distance=c.indexToMove=0,e.changed&&this._triggerEvent(f.flickEnd));this._adjustContainerCss(a)},_getNumByDirection:function(){var a=this._conf;return a.touch.direction===a.dirData[0]?1:-1},_revertPanelNo:function(){var a=this._conf.panel,b=this._getNumByDirection(),c=a.currIndex>=0?a.currIndex:a.index-b,d=a.currNo>=0?a.currNo:a.no-b;this._setPanelNo({index:c,no:d})},_setPanelNo:function(b){var c=this._conf.panel,d=c.origCount-1,e=this._getNumByDirection();

a.isPlainObject(b)?a.each(b,function(a,b){c[a]=b}):(c.currIndex=c.index,c.currNo=c.no,c.index+=e,c.no+=e),c.no>d?c.no=0:c.no<0&&(c.no=d)},_setPointerEvents:function(a){var b,c=this.$container.css("pointerEvents");a&&a.holding&&a.hammerEvent&&a.hammerEvent.preventSystemEvent&&"none"!==c?b="none":a||"auto"===c||(b="auto"),b&&this.$container.css("pointerEvents",b)},_getCoordsValue:function(a){return a=this._getDataByDirection(a),{x:this._getUnitValue(a[0]),y:this._getUnitValue(a[1])}},_setTranslate:function(a){a=this._getCoordsValue(a),this._setMoveStyle(this.$container,[a.x,a.y])},_getUnitValue:function(a){var b=/(?:[a-z]{2,}|%)$/;return(parseInt(a,10)||0)+(String(a).match(b)||"px")},_isMovable:function(){var a,b,c,d=this.options,e=this._conf,f=this._mcInst,g=e.panel,h=Math.abs(this._conf.touch.distance)>=d.threshold;return!d.circular&&h&&(c=e.touch.direction,a=this._getDataByDirection(f.options.max)[0],b=this._getDataByDirection(f.get())[0],(0===g.currNo&&c===e.dirData[1]||g.count-1===g.currNo&&c===e.dirData[0])&&(0>b||b>a))?!1:h},_triggerEvent:function(b,c){var d=this._conf,e=d.panel;return b===f.flickEnd&&(e.currNo=e.no,e.currIndex=e.index),this.trigger(d.eventPrefix+b,a.extend({eventType:b,index:e.currIndex,no:e.currNo,direction:d.touch.direction},c))},_getElement:function(b,c,d){var e,f,g,h=this._conf.panel,i=this.options.circular,j=h.currIndex,k=b===this._conf.dirData[0],l=null;return d?(e=h.count,f=j):(e=h.origCount,f=h.currNo),g=f,k?e-1>f?f++:i&&(f=0):f>0?f--:i&&(f=e-1),g!==f&&(l=c?a(h.$list[k?j+1:j-1]):f),l},_setValueToMove:function(a){var b=this._conf;b.touch.distance=this.options.threshold+1,b.touch.direction=b.dirData[+!a]},_getNumValue:function(a,b){return isNaN(a=parseInt(a,10))?b:a},getIndex:function(a){return this._conf.panel[a?"currIndex":"currNo"]},getElement:function(){var b=this._conf.panel;return a(b.$list[b.currIndex])},getNextElement:function(){return this._getElement(this._conf.dirData[0],!0)},getNextIndex:function(a){return this._getElement(this._conf.dirData[0],!1,a)},getAllElements:function(){return this._conf.panel.$list},getPrevElement:function(){return this._getElement(this._conf.dirData[1],!0)},getPrevIndex:function(a){return this._getElement(this._conf.dirData[1],!1,a)},getTotalCount:function(a){return this._conf.panel[a?"count":"origCount"]},isPlaying:function(){return this._conf.panel.animating},_movePanel:function(a,b){var c=this._conf,d=c.panel,e=this.options;return d.animating||c.touch.holding?void 0:(this._setValueToMove(a),(e.circular||null!=this[a?"getNextIndex":"getPrevIndex"]())&&this._movePanelByPhase("setBy",[d.size*(a?1:-1),0],b),this)},_movePanelByPhase:function(a,b,c){c=this._getNumValue(c,this.options.duration),this._setPhaseValue("start")!==!1&&(this._setMovableCoord(a,b,!0,c),!c&&this._setPhaseValue("end"))},next:function(a){return this._movePanel(!0,a)},prev:function(a){return this._movePanel(!1,a)},moveTo:function(a,b){var c,d,e=this._conf,f=e.panel,g=this.options.circular,h=f.index;return a=this._getNumValue(a,-1),0>a||a>=f.origCount||a===f.no||f.animating||e.touch.holding?this:(c=a-(g?f.no:h),d=c>0,g&&Math.abs(c)>(d?f.count-(h+1):h)&&(c+=(d?-1:1)*f.count,d=c>0),this._setPanelNo(g?{no:a}:{no:a,index:a}),this._conf.indexToMove=c,this._setValueToMove(d),this._movePanelByPhase(g?"setBy":"setTo",[f.size*(g?c:a),0],b),this)},_checkPadding:function(){var b=this.options,c=b.previewPadding.concat(),d=this.$wrapper.css("padding").split(" ");b.horizontal&&d.reverse(),d=2===d.length?[d[0],d[0]]:[d[0],d[2]],d=a.map(d,function(a){return parseInt(a,10)}),(2===c.length&&c[0]!==d[0]||c[1]!==d[1])&&this._setPadding(c)},resize:function(){var a,b,c=this._conf,d=this.options,e=c.panel,f=d.horizontal;if(~~d.previewPadding.join("")?(this._checkPadding(),a=e.size):f&&(a=e.size=this.$wrapper.width()),b=this._getDataByDirection([a*(e.count-1),0]),f&&this.$container.width(b[0]+a),e.$list.css(f?"width":"height",a),d.adaptiveHeight){var g=this.$container.find("["+j+"]");g.size()&&g.attr(j,null)&&this._setAdaptiveHeight()}return this._mcInst.options.max=b,this._setMovableCoord("setTo",[a*e.index,0],!0,0),i&&(this._applyPanelsPos(),this._adjustContainerCss("end")),this},restore:function(a){var b,c=this._conf,d=c.panel,e=this._getDataByDirection(this._mcInst.get());return e[0]!==d.currIndex*d.size?(c.customEvent.restoreCall=!0,a=this._getNumValue(a,this.options.duration),this._revertPanelNo(),b=this._getDataByDirection([d.size*d.index,0]),this._triggerBeforeRestore({depaPos:e,destPos:b}),this._setMovableCoord("setTo",b,!0,a),a||(this._adjustContainerCss("end"),this._triggerRestore())):d.changed&&(this._revertPanelNo(),c.touch.distance=c.indexToMove=0),this},enableInput:function(){return this._mcInst.enableInput(),this},disableInput:function(){return this._mcInst.disableInput(),this},destroy:function(){var b=this._conf,c=b.origPanelStyle,d=c.wrapper,e=c.list;this.$wrapper.attr("class",d.className).attr("style",d.style),this.$container.children().unwrap().each(function(b,c){var d=a(c);return b>e.length-1?!!d.remove():void d.attr("class",e[b].className).attr("style",e[b].style)}),this._bindEvents(!1),this.off();for(var f in this)this[f]=null}})}),eg.module("infiniteGrid",["jQuery",eg,window,document],function(a,b,c,d){var e={layoutComplete:"layoutComplete",append:"append",prepend:"prepend"},f=3;b.InfiniteGrid=b.Class.extend(b.Component,{_events:function(){return e},construct:function(b,d,e){var f=c.navigator.userAgent;this.options=a.extend({isEqualSize:!1,defaultGroupKey:null,count:30,threshold:300},d),this.$el=b instanceof a?b:a(b),this.el=this.$el.get(0),this.el.style.position="relative",this._prefix=e||"",this._isIos=/iPhone|iPad/.test(f),this._isIE=/MSIE|Trident|Windows Phone|Edge/.test(f),this._appendCols=this._prependCols=[],this.$view=a(c),this._reset(),this._refreshViewport(),this.el.children.length>0&&this.layout(!0,this._itemize(a.makeArray(this.el.children),this.options.defaultGroupKey)),this._onScroll=a.proxy(this._onScroll,this),this._onResize=a.proxy(this._onResize,this),this.$view.on("scroll",this._onScroll).on("resize",this._onResize)},_getScrollTop:function(){return d.body.scrollTop||d.documentElement.scrollTop},_onScroll:function(){if(!this.isProcessing()){var b=this._getScrollTop(),c=this._prevScrollTop;if(!(this._isIos&&0===b||c===b)){var d,f;if(b>c){if(a.isEmptyObject(this._bottomElement)&&(this._bottomElement=this.getBottomElement(),null==this._bottomElement))return;d=this._bottomElement,f=d.getBoundingClientRect(),f.top<=this._clientHeight+this.options.threshold&&this.trigger(this._prefix+e.append,{scrollTop:b})}else{if(a.isEmptyObject(this._topElement)&&(this._topElement=this.getTopElement(),null==this._topElement))return;if(d=this._topElement,f=d.getBoundingClientRect(),f.bottom>=-this.options.threshold){var g=this.fit();g>0&&(b-=g,this.$view.scrollTop(b)),this.trigger(this._prefix+e.prepend,{scrollTop:b})}}this._prevScrollTop=b}}},_onResize:function(){this._resizeTimeout&&clearTimeout(this._resizeTimeout);var a=this;this._resizeTimeout=setTimeout(function(){a._refreshViewport(),a.$el.innerWidth()!==a._containerWidth&&a.layout(!0),a._resizeTimeout=null,a._prevScrollTop=-1},100)},_refreshViewport:function(){var b=this.$view.get(0);b&&(this._clientHeight=a.isWindow(b)?b.innerHeight||document.documentElement.clientHeight:b.clientHeight)},getStatus:function(){var b,c={};for(b in this)!this.hasOwnProperty(b)||!/^_/.test(b)||"function"==typeof this[b]||this[b]instanceof Element||(c[b]=this[b]);return{prop:c,options:a.extend({},this.options),items:a.map(this.items,function(b){var c=a.extend({},b);return delete c.el,c}),html:this.el.innerHTML,cssText:this.el.style.cssText}},setStatus:function(b){return b&&b.cssText&&b.html&&b.prop&&b.items?(this.el.style.cssText=b.cssText,this.el.innerHTML=b.html,a.extend(this,b.prop),this._topElement=this._bottomElement=null,this.items=a.map(this.el.children,function(a,c){return b.items[c].el=a,b.items[c]}),this):this},isProcessing:function(){return this._isProcessing},isRecycling:function(){return this.options.count>0&&this._isRecycling},getGroupKeys:function(){return a.map(this.items,function(a){return a.groupKey})},layout:function(b,c,d){var e=a.extend({isAppend:!0,removedCount:0},d);return b="undefined"==typeof b||b,c||e.isAppend||(e.isAppend=!0),this._waitResource(b,e.isAppend?c:c.reverse(),e),this},_layoutComplete:function(b,c,d){var e=!this.items.length;c&&d.isAppend&&(this.items=this.items.concat(c)),e&&a.each(c,function(a,b){b.el.style.position="absolute"}),e||b?this._resetCols(this._measureColumns()):c||(this._appendCols=this._prependCols.concat()),this._layoutItems(b,c,d),this._postLayout(b,c,d)},_layoutItems:function(b,c,d){var e=this,f=c||this.items;if(a.each(f,function(a,c){c.position=e._getItemLayoutPosition(b,c,d.isAppend)}),c&&!d.isAppend){this.items=c.sort(function(a,b){return a.position.y-b.position.y}).concat(this.items);var g=this._getTopPositonY();0!==g&&(f=this.items,a.each(f,function(a,b){b.position.y-=g}),this._syncCols(!1),this._syncCols(!0))}a.each(f,function(a,b){if(b.el){var c=b.el.style;c.left=b.position.x+"px",c.top=b.position.y+"px"}})},append:function(b,c){return this._isProcessing||0===b.length?void 0:(b=a(b),this._insert(b,c,!0),b.length)},prepend:function(b,c){return this._isProcessing||0===b.length?void 0:(b=a(b),this._insert(b,c,!1),b.length)},clear:function(){return this.el.innerHTML="",this.el.style.height="",this._reset(),this},getTopElement:function(){var a=this._getTopItem();return a&&a.el},_getTopItem:function(){var b=null,c=1/0;return a.each(this._getColItems(!1),function(a,d){d&&d.position.y<c&&(c=d.position.y,b=d)}),b},_getTopPositonY:function(){var a=this._getTopItem();return a?a.position.y:0},getBottomElement:function(){var b,c=null,d=-(1/0);return a.each(this._getColItems(!0),function(a,e){b=e?e.position.y+e.size.height:0,b>=d&&(d=b,c=e)}),c&&c.el},_postLayout:function(a,b,c){if(this._isProcessing){b=b||[],this.el.style.height=this._getContainerSize().height+"px",this._doubleCheckCount=f,this._topElement=this.getTopElement(),this._bottomElement=this.getBottomElement();var d=0;if(c.isAppend||(d=b.length>=this.items.length?0:this.items[b.length].position.y,d>0&&(this._prevScrollTop=this._getScrollTop()+d,this.$view.scrollTop(this._prevScrollTop))),this._isProcessing=!1,this.trigger(this._prefix+e.layoutComplete,{target:b.concat(),isAppend:c.isAppend,distance:d,croppedCount:c.removedCount}),!c.isAppend&&0===this._getScrollTop()){var g=this;clearInterval(this._doubleCheckTimer),this._doubleCheckTimer=setInterval(function(){0===g._getScrollTop()&&(g.trigger(g._prefix+e.prepend,{scrollTop:0}),--g._doubleCheckCount<=0&&clearInterval(g._doubleCheckTimer))},500)}}},_insert:function(b,c,d){if(this._isProcessing=!0,this.isRecycling()||(this._isRecycling=this.items.length+b.length>=this.options.count),0!==b.length){var e=b.toArray(),f=a(e),g=-this._clientHeight+"px";a.each(e,function(a,b){b.style.position="absolute",b.style.top=g});var h=this._adjustRange(d,f);this.$el[d?"append":"prepend"](f),this.layout(!1,this._itemize(f,c),{isAppend:d,removedCount:h})}},_waitResource:function(a,b,c){this._isProcessing=!0;var d=this._checkImageLoaded(),e=this,f=function(){e._layoutComplete(a,b,c)};d.length>0?this._waitImageLoaded(d,f):setTimeout(function(){f&&f()},0)},_adjustRange:function(b,c){var d=0;if(!this.isRecycling())return d;this.options.count<=c.length&&(d+=b?c.splice(0,c.length-this.options.count).length:c.splice(this.options.count).length);var e,f,g=this.items.length+c.length-this.options.count;return 0>=g||(f=this._getDelimiterIndex(b,g))<0?d:(b?(e=this.items.splice(0,f),this._syncCols(!1)):(e=f===this.items.length?this.items.splice(0):this.items.splice(f,this.items.length-f),this._syncCols(!0)),a.each(e,function(a,b){f=c.index(b.el),-1!==f?c.splice(f,1):b.el.parentNode.removeChild(b.el)}),d+=e.length)},_getDelimiterIndex:function(a,b){var c=this.items.length;if(c===b)return c;var d,e=0,f=a?b-1:c-b,g=f+(a?1:-1),h=this.items[f].groupKey;if(null!=h&&h===this.items[g].groupKey)if(a){for(d=f;d>0&&h===this.items[d].groupKey;d--);e=0===d?-1:d+1}else{for(d=f;c>d&&h===this.items[d].groupKey;d++);e=d===c?-1:d}else e=a?g:f;return e},_fit:function(b){if(this.options.count<=0)return this._fit=function(){return 0},0;var c=this._getTopPositonY();return 0!==c&&(a.each(this.items,function(a,d){d.position.y-=c,b&&(d.el.style.top=d.position.y+"px")}),this._syncCols(!1),this._syncCols(!0),b&&(this.el.style.height=this._getContainerSize().height+"px")),c},fit:function(){return this._fit(!0)},_reset:function(){this._isProcessing=!1,this._topElement=null,this._bottomElement=null,this._isRecycling=!1,this._prevScrollTop=0,this._equalItemSize=0,this._resizeTimeout=null,this._doubleCheckTimer=null,this._doubleCheckCount=f,this._resetCols(this._appendCols.length||0),this.items=[]},_checkImageLoaded:function(){return this.$el.find("img").filter(function(b,c){return c.nodeType&&-1!==a.inArray(c.nodeType,[1,9,11])?!c.complete:void 0}).toArray()},_waitImageLoaded:function(b,c){var d,e=b.length,f=function(b){e--,a(b.target).off("load error"),0>=e&&c&&c()},g=this;a.each(b,function(b,c){if(d=a(c),g._isIE){var e=c.getAttribute("src");c.setAttribute("src",""),c.setAttribute("src",e)}d.on("load error",f)})},_measureColumns:function(){this.el.style.width=null,this._containerWidth=this.$el.innerWidth(),this._columnWidth=this._getColumnWidth()||this._containerWidth;var a=this._containerWidth/this._columnWidth,b=this._columnWidth-this._containerWidth%this._columnWidth;return a=Math.max(Math[b&&1>=b?"round":"floor"](a),1),a||0},_resetCols:function(a){a="undefined"==typeof a?0:a;for(var b=[];a--;)b.push(0);this._appendCols=b.concat(),this._prependCols=b.concat()},_getContainerSize:function(){return{height:Math.max.apply(Math,this._appendCols),width:this._containerWidth}},_getColumnWidth:function(){var b=this.items[0]&&this.items[0].el,c=0;if(b){var d=a(b);c=d.innerWidth(),this.options.isEqualSize&&(this._equalItemSize={width:c,height:d.innerHeight()})}return c},_syncCols:function(a){if(this.items.length){var b,c=this._getColItems(a),d=a?this._appendCols:this._prependCols,e=d.length;for(b=0;e>b;b++)d[b]=c[b].position.y+(a?c[b].size.height:0)}},_getColIdx:function(a){return parseInt(a.position.x/parseInt(this._columnWidth,10),10)},_getColItems:function(a){for(var b,c,d=this._appendCols.length,e=new Array(d),f=0,g=a?this.items.length-1:0;b=this.items[g];){if(c=this._getColIdx(b),!e[c]&&(e[c]=b,++f===d))return e;g+=a?-1:1}return e},_itemize:function(b,c){return a.map(b,function(a){return{el:a,position:{x:0,y:0},groupKey:"undefined"==typeof c?null:c}})},_getItemLayoutPosition:function(b,c,d){if(c&&c.el){var e=a(c.el);(b||!c.size)&&(c.size=this._getItemSize(e));var f,g=d?this._appendCols:this._prependCols,h=Math[d?"min":"max"].apply(Math,g);if(d)f=a.inArray(h,g);else for(var i=g.length;i-->=0;)if(g[i]===h){f=i;break}return g[f]=h+(d?c.size.height:-c.size.height),{x:this._columnWidth*f,y:d?h:h-c.size.height}}},_getItemSize:function(a){return this._equalItemSize||{width:a.innerWidth(),height:a.innerHeight()}},remove:function(b){for(var c=null,d=-1,e=0,f=this.items.length;f>e;e++)if(this.items[e].el===b){d=e;break}return~d&&(c=a.extend({},this.items[d]),this.items.splice(d,1),c.el.parentNode.removeChild(c.el)),c},destroy:function(){this.off(),this.$view.off("resize",this._onResize).off("scroll",this._onScroll),this._reset()}})});